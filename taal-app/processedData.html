<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Track</title>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <div class="sidebar">

        <div class="Menu">
          <input id="tabBTN" type="button" value="FlightPlan"
          onclick="window.location = './flightPlanner.html'" />
        
          <input id="tabBTN" type="button" value="Data"
          onclick="window.location = './rawData.html'" />
        
          <input id="tabBTN" type="button" value="Track"
          onclick="window.location = './processedData.html'" />
        </div>
        
      This is a sidebar!

      <input id="tabBTN" type="button" value="Home"
       onclick="window.location = './index.html'" />
       
       <div id="floating-panel">    
        <button onclick="toggleLines()">Toggle Bearing Lines</button>
        <button onclick="toggleOpacity()">Toggle Heatmap Opacity</button>
        <button onclick="changeRadius()">Change Heatmap Radius</button>
        <button onclick="toggleMap()">Toggle Maps</button>
      </div>

      <div class="map-button-container main-sidebar">
        <div id="generate-data">
            Select Data File
        </div>
      </div>
    </div>
    <div class="main">
      <div class="title">
        Track
      </div>
      <div id="map"></div>
    </div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDbprcqa9fyhql1QJQAr2M9k662Z6BiPko&libraries=drawing,visualization,geometry&callback=initMap"
    async defer></script>
    <script>// gets path generated from local storage
        var path = JSON.parse(localStorage.getItem("flightPath")); // path is the array generated in flightplanner
        var middlePoint = JSON.parse(localStorage.getItem("middlePath")); // middle point generated by Aidan
        
        if (path && middlePoint) {
            console.log(middlePoint);
            console.log(path);
        }
        else {
            console.log("No flight path generated yet."); // if you see this in console then you need to go to flighplanner and generate a path first
        }
    </script>
    <script src="./visScript.js"></script>
    <script> // deletes local storage
        localStorage.clear(); // everytime you leave the track page it will delete the generated path(for testing purposes) can remove this line and it preserve path
        
        require('./renderer.js');</script>
  </body>
</html>
